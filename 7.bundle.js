(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{175:function(n,e,t){"use strict";t.r(e),t.d(e,"Preview",(function(){return U}));var r=t(11),u=t.n(r),i=t(0),c=t.n(i),o=t(10),a=t(50),s=t(57),l=t(12),f=Object(l.a)((function(){return Promise.all([t.e(1),t.e(9)]).then(t.bind(null,177))}),(function(n){return n.Slide})),d=t(58),b=t(95);var v=t(37),m=t.n(v),h=t(173),p=t(171),j=t(104),O=t(172),w=t(68),k=t.n(w),g=t(41),E=t(51);function y(n){var e=n.dispatch,t=n.entries,r=n.isActive,u=n.ref,c=Object(i.useMemo)((function(){return k()((function(){var n,r=h.a(p.a(j.a,0),O.a(j.a,E.a)),u=Object.entries(t).find((function(n){var e=m()(n,2)[1];return r(e.getBoundingClientRect().top)}));u&&(n=parseInt(u[0],10),e({type:g.a.SetSlideshowLineNumber,slideshowLineNumber:n}))}),100)}),[e,t]);Object(i.useEffect)((function(){var n=u.current;return r?null==n||n.addEventListener("scroll",c,{passive:!0}):null==n||n.removeEventListener("scroll",c),function(){return null==n?void 0:n.removeEventListener("scroll",c)}}),[r,c,u])}function L(){var n=u()(["\n  height: 100%;\n  overflow: auto;\n\n  &:fullscreen {\n    scroll-snap-type: y mandatory;\n\n    .slide {\n      display: grid;\n      height: 100%;\n      scroll-snap-align: start;\n      svg {\n        margin: auto;\n      }\n    }\n  }\n\n  &:-webkit-full-screen {\n    background-color: rgba(255, 255, 255, 0);\n\n    .slide {\n      display: grid;\n      height: 100%;\n      svg {\n        margin: auto;\n      }\n    }\n  }\n"]);return L=function(){return n},n}var x=o.d.article(L()),S=Object(i.forwardRef)((function(n,e){var t=n.dispatch,r=n.htmlArray,u=n.textLineNumber,o=Object(d.a)({ref:e,initialValue:!1}),a=Object(s.b)();return function(n){var e=n.entries,t=n.textLineNumber;Object(i.useEffect)((function(){var n=e[t];n&&Object(b.a)(n,{block:"start"})}),[e,t])}({entries:a,textLineNumber:u}),y({dispatch:t,entries:a,isActive:o,ref:e}),c.a.createElement(x,{ref:e,id:"slideshow"},r.map((function(n,e){return c.a.createElement(f,{key:"slide-".concat(e+1),htmlString:n,index:e})})))})),C=Object(i.memo)(S),N=t(105),A=t.n(N),R=t(79);function z(n){var e=Object(i.useState)(!1),t=m()(e,2),r=t[0],u=t[1];!function(n){var e=Object(i.useState)(1),t=m()(e,2),r=t[0],u=t[1],c=Object(R.b)(),o=Object.keys(c).length;Object(i.useEffect)((function(){return u(1)}),[n]),Object(i.useEffect)((function(){n&&Object(b.a)(c[r])}),[n,r,c]);var a=Object(i.useCallback)((function(){return u((function(n){return n<o?n+1:n}))}),[o]),s=Object(i.useCallback)((function(){return u((function(n){return n>1?n-1:n}))}),[]);Object(i.useEffect)((function(){var e=function(n){switch(n.preventDefault(),n.keyCode){case 37:case 38:s();break;case 39:case 40:a()}};return n?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[a,s,n])}(r);var c=Object(i.useCallback)((function(){n.current&&A.a.request(n.current)}),[n]);return Object(i.useEffect)((function(){var n=A.a,e=function(){return u(n.isFullscreen)};return n.on("change",e),function(){return n.off("change",e)}}),[]),c}var F=t(106),J=t.n(F),M=t(107),P=t.n(M),V=function(){return new Worker(t.p+"bundle.worker.js")},q=function(){function n(e){J()(this,n),this.worker=new V,this.worker.onmessage=function(n){var t=n.data;return e({type:g.a.SetHtmlArray,htmlArray:t})}}return P()(n,[{key:"parse",value:function(n){this.worker.postMessage(n)}},{key:"terminate",value:function(){this.worker&&this.worker.terminate()}}]),n}();function B(){var n=u()(["\n  z-index: 10000;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n"]);return B=function(){return n},n}function D(){var n=u()(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n"]);return D=function(){return n},n}var H=o.d.div(D()),I=o.d.button(B()),U=Object(i.memo)((function(){var n=Object(i.useRef)(null),e=Object(a.c)(),t=Object(a.d)(),r=t.htmlArray,u=t.md,o=t.textLineNumber,s=z(n);return function(n){var e=n.dispatch,t=n.md,r=Object(i.useRef)(null);Object(i.useEffect)((function(){return r.current=new q(e),function(){var n;null===(n=r.current)||void 0===n||n.terminate()}}),[e]),Object(i.useEffect)((function(){var n=r.current;null==n||n.parse(t)}),[t])}({dispatch:e,md:u}),c.a.createElement(H,null,c.a.createElement(C,{ref:n,dispatch:e,htmlArray:r,textLineNumber:o}),c.a.createElement(I,{disabled:u===a.a.md,onClick:function(){return s()},type:"button"},"FULLSCREEN"))}))},51:function(n,e,t){"use strict";t.d(e,"a",(function(){return o})),t.d(e,"b",(function(){return a}));var r=t(11),u=t.n(r),i=t(10);function c(){var n=u()(["\n  background-color: transparent;\n  border: none;\n  height: 100%;\n  outline: none;\n  resize: none;\n\n  color: ",";\n  font-size: 15px;\n  margin-bottom: 0.3em;\n  line-height: ","px;\n  padding: 0.5em;\n  tab-size: 2;\n\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n"]);return c=function(){return n},n}var o=18,a=i.d.textarea(c(),(function(n){return n.theme.textColor}),o)},58:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t(37),u=t.n(r),i=t(0),c=t(43),o=t.n(c);function a(n){var e=n.ref,t=n.initialValue,r=e.current,c=Object(i.useState)(t),a=u()(c,2),s=a[0],l=a[1];return Object(i.useEffect)((function(){var n=o()((function(n){return l(n)}),300),e=function(){return n(!0)},t=function(){return n(!1)};return null==r||r.addEventListener("mouseenter",e),null==r||r.addEventListener("mouseleave",t),function(){null==r||r.removeEventListener("mouseenter",e),null==r||r.removeEventListener("mouseleave",t)}}),[r,l]),s}}}]);
//# sourceMappingURL=7.bundle.js.map